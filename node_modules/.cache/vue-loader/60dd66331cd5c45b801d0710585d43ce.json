{"remainingRequest":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/src/views/Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/src/views/Categories.vue","mtime":1589404050016},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop-firebase/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXRlZ29yeUNyZWF0ZSBmcm9tICdAL2NvbXBvbmVudHMvQ2F0ZWdvcnlDcmVhdGUnCmltcG9ydCBDYXRlZ29yeUVkaXQgZnJvbSAnQC9jb21wb25lbnRzL0NhdGVnb3J5RWRpdCcKaW1wb3J0IExvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvYXBwL0xvYWRlcicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1ldGFJbmZvKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0aXRsZSgnTWVudV9DYXRlZ29yaWVzJykKICAgICAgICB9CiAgICB9LAogICAgbmFtZTogJ2NhdGVnb3JpZXMnLAogICAgZGF0YTooKSA9PiAoewogICAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgdXBkYXRlQ291bnQ6IDAKICAgIH0pLAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZmV0Y2hDYXRlZ29yaWVzJykKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDYXRlZ29yeUNyZWF0ZSwKICAgICAgICBDYXRlZ29yeUVkaXQKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYWRkTmV3Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVDYXRlZ29yaWVzKGNhdGVnb3J5KSB7CiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY2F0ZWdvcmllcy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSBjYXRlZ29yeS5pZCkKICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzW2lkeF0udGl0bGUgPSBjYXRlZ29yeS50aXRsZQogICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXNbaWR4XS5saW1pdCA9IGNhdGVnb3J5LmxpbWl0CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ291bnQrKwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Categories.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"page-title\">\n            <h3>{{'Menu_Categories' | localize}}</h3>\n        </div>\n        <section>\n            <Loader v-if=\"loading\" />\n            <div class=\"row\" v-else> \n                <CategoryCreate @created=\"addNewCategory\" />\n\n                <CategoryEdit \n                    v-if=\"categories.length\"\n                    :categories=\"categories\"\n                    :key=\"categories.length + updateCount\" \n                    @updated=\"updateCategories\"\n                />\n                <p v-else class=\"center\">{{'No_categories' | localize}}</p>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport CategoryCreate from '@/components/CategoryCreate'\nimport CategoryEdit from '@/components/CategoryEdit'\nimport Loader from '@/components/app/Loader'\n\nexport default {\n    metaInfo() {\n        return {\n            title: this.$title('Menu_Categories')\n        }\n    },\n    name: 'categories',\n    data:() => ({\n        categories: [],\n        loading: true,\n        updateCount: 0\n    }),\n    async mounted() {\n        this.categories = await this.$store.dispatch('fetchCategories')\n        this.loading = false\n    },\n    components: {\n        CategoryCreate,\n        CategoryEdit\n    },\n    methods: {\n        addNewCategory(category) {\n            this.categories.push(category)\n        },\n        updateCategories(category) {\n            const idx = this.categories.findIndex(c => c.id === category.id)\n            this.categories[idx].title = category.title\n            this.categories[idx].limit = category.limit\n            this.updateCount++\n        }\n    }\n}\n</script>"]}]}