{"remainingRequest":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sanzhar/Public/Projects/Vue Projects/shop/src/views/Settings.vue?vue&type=style&index=0&id=53cc84dd&lang=scss&scoped=true&","dependencies":[{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/src/views/Settings.vue","mtime":1589404050020},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zZXR0aW5ncy1yb3cgewogICAgbWFyZ2luLWJvdHRvbTogMnJlbTsKICAgIHAgewogICAgICAgIGZvbnQtc2l6ZTogMS4xcmVtOwogICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKICAgIH0KICAgIC5pbnRlci1jb2xvciB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBtYXJnaW4tdG9wOiAwOwogICAgICAgIGxpIHsKICAgICAgICAgICAgd2lkdGg6IDEuNzVyZW07CiAgICAgICAgICAgIGhlaWdodDogMS43NXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNzVyZW07CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CiAgICAgICAgLmFjdGl2ZSB7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlMGUwZTA7CiAgICAgICAgfQogICAgfQp9Ci5zZXR0aW5ncy1idXR0b24gewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Cn0K"},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"page-title\">\n            <h3>{{'Settings' | localize}}</h3>\n        </div>\n        <div class=\"settings-row\">\n            <p>{{'Interface_color' | localize}}</p>\n            <ul class=\"inter-color\">\n                <li  \n                    v-for=\"(col, index) in colors\" \n                    :key=\"index\" \n                    :style=\"{backgroundColor : col.color}\" \n                    @click=\"selectColor(col.color)\" \n                    :class=\"{active : selectedColor == col.color}\"\n                ></li>\n            </ul>\n        </div>\n        <div class=\"settings-row\">\n            <p>{{'My_bill' | localize}}</p>\n            <div class=\"input-field\">\n                <currency-input v-model=\"myBill\" currency=\"KZT\" :class=\"{invalid: $v.amount.$dirty && !$v.amount.minValue}\"/>\n                <span \n                class=\"helper-text invalid\"\n                v-if=\"$v.amount.$dirty && !$v.amount.minValue\"\n                >\n                {{'Minimum_value' | localize}} {{$v.amount.$params.minValue.min}}\n                </span>\n            </div>\n        </div>\n        <div class=\"settings-button\">\n            <button @click=\"update\" class=\"btn waves-effect waves-light\">\n                {{'Update' | localize}}\n                <i class=\"material-icons right\">send</i>\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport localizeFilter from '@/filters/localize.filter'\nimport  {required, minValue} from 'vuelidate/lib/validators'\nimport {mapGetters} from 'vuex'\nimport {mapActions} from 'vuex'\n\nexport default {\n  metaInfo() {\n      return {\n        title: this.$title('Settings')\n      }\n  },\n  name: 'settings',\n  data:() =>({\n    colors: [\n        {\n            color: '#f57f17'\n        },\n        {\n            color: '#0277bd'\n        },\n        {\n            color: '#00897b'\n        },\n        {\n            color: '#455a64'\n        },\n        {\n            color: '#f03434'\n        }\n    ],\n    selectedColor: '',\n    myBill: null\n  }),\n  validations: {\n      amount: {minValue: minValue(1)}\n  },\n  methods: {\n    ...mapActions(['updateMyBill']),\n    selectColor(color) {\n        this.selectedColor = color\n    },\n    async update() {\n        const settingsColor = {\n            selectedColor: this.selectedColor\n        }\n        await this.$store.dispatch('updateSettings', settingsColor)\n        await this.updateMyBill({\n          bill: this.myBill\n        })\n        this.$message('Настройки обновлены')\n        location.reload()\n    }\n  },\n  async created() {\n    const settings = await this.$store.dispatch('fetchSettings')\n    this.selectedColor = settings.selectedColor\n    this.myBill = this.$store.getters.info.bill\n\n    setTimeout(() => {\n        this.select = M.FormSelect.init(this.$refs.select)\n        M.updateTextFields()\n    }, 0)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-row {\n    margin-bottom: 2rem;\n    p {\n        font-size: 1.1rem;\n        margin-bottom: 0.5rem;\n    }\n    .inter-color {\n        display: flex;\n        margin-top: 0;\n        li {\n            width: 1.75rem;\n            height: 1.75rem;\n            border-radius: 50%;\n            margin-right: 0.75rem;\n            cursor: pointer;\n        }\n        .active {\n            border: 2px solid #e0e0e0;\n        }\n    }\n}\n.settings-button {\n    display: flex;\n    justify-content: flex-end;\n}\n</style>"]}]}