{"remainingRequest":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js!/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sanzhar/Public/Projects/Vue Projects/shop/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/src/views/Settings.vue","mtime":1589404050020},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvc2Fuemhhci9QdWJsaWMvUHJvamVjdHMvVnVlIFByb2plY3RzL3Nob3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbG9jYWxpemVGaWx0ZXIgZnJvbSAnQC9maWx0ZXJzL2xvY2FsaXplLmZpbHRlcic7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5WYWx1ZSB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0YUluZm86IGZ1bmN0aW9uIG1ldGFJbmZvKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6IHRoaXMuJHRpdGxlKCdTZXR0aW5ncycpCiAgICB9OwogIH0sCiAgbmFtZTogJ3NldHRpbmdzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3JzOiBbewogICAgICAgIGNvbG9yOiAnI2Y1N2YxNycKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAnIzAyNzdiZCcKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAnIzAwODk3YicKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAnIzQ1NWE2NCcKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAnI2YwMzQzNCcKICAgICAgfV0sCiAgICAgIHNlbGVjdGVkQ29sb3I6ICcnLAogICAgICBteUJpbGw6IG51bGwKICAgIH07CiAgfSwKICB2YWxpZGF0aW9uczogewogICAgYW1vdW50OiB7CiAgICAgIG1pblZhbHVlOiBtaW5WYWx1ZSgxKQogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ3VwZGF0ZU15QmlsbCddKSwgewogICAgc2VsZWN0Q29sb3I6IGZ1bmN0aW9uIHNlbGVjdENvbG9yKGNvbG9yKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRDb2xvciA9IGNvbG9yOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgc2V0dGluZ3NDb2xvcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiB1cGRhdGUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNldHRpbmdzQ29sb3IgPSB7CiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yOiB0aGlzLnNlbGVjdGVkQ29sb3IKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVNldHRpbmdzJywgc2V0dGluZ3NDb2xvcikpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy51cGRhdGVNeUJpbGwoewogICAgICAgICAgICAgICAgYmlsbDogdGhpcy5teUJpbGwKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSgn0J3QsNGB0YLRgNC+0LnQutC4INC+0LHQvdC+0LLQu9C10L3RiycpOwogICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgc2V0dGluZ3M7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNyZWF0ZWQkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2ZldGNoU2V0dGluZ3MnKSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBzZXR0aW5ncyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29sb3IgPSBzZXR0aW5ncy5zZWxlY3RlZENvbG9yOwogICAgICAgICAgICB0aGlzLm15QmlsbCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuaW5mby5iaWxsOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5zZWxlY3QgPSBNLkZvcm1TZWxlY3QuaW5pdChfdGhpcy4kcmVmcy5zZWxlY3QpOwogICAgICAgICAgICAgIE0udXBkYXRlVGV4dEZpZWxkcygpOwogICAgICAgICAgICB9LCAwKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG51bGwsIHRoaXMpOwogIH0KfTs="},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,cAAA,MAAA,2BAAA;AACA,SAAA,QAAA,EAAA,QAAA,QAAA,0BAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,QADA,sBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,UAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,IAAA,EAAA,UANA;AAOA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA;AADA,OADA,EAIA;AACA,QAAA,KAAA,EAAA;AADA,OAJA,EAOA;AACA,QAAA,KAAA,EAAA;AADA,OAPA,EAUA;AACA,QAAA,KAAA,EAAA;AADA,OAVA,EAaA;AACA,QAAA,KAAA,EAAA;AADA,OAbA,CADA;AAkBA,MAAA,aAAA,EAAA,EAlBA;AAmBA,MAAA,MAAA,EAAA;AAnBA,KAAA;AAAA,GAPA;AA4BA,EAAA,WAAA,EAAA;AACA,IAAA,MAAA,EAAA;AAAA,MAAA,QAAA,EAAA,QAAA,CAAA,CAAA;AAAA;AADA,GA5BA;AA+BA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,cAAA,CAAA,CADA;AAEA,IAAA,WAFA,uBAEA,KAFA,EAEA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KAJA;AAKA,IAAA,MALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,cAAA,aANA,GAMA;AACA,gBAAA,aAAA,EAAA,KAAA;AADA,eANA;AAAA;AAAA,8CASA,KAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA,aAAA,CATA;;AAAA;AAAA;AAAA,8CAUA,KAAA,YAAA,CAAA;AACA,gBAAA,IAAA,EAAA,KAAA;AADA,eAAA,CAVA;;AAAA;AAaA,mBAAA,QAAA,CAAA,qBAAA;AACA,cAAA,QAAA,CAAA,MAAA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BA;AAgDA,EAAA,OAhDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAiDA,KAAA,MAAA,CAAA,QAAA,CAAA,eAAA,CAjDA;;AAAA;AAiDA,YAAA,QAjDA;AAkDA,iBAAA,aAAA,GAAA,QAAA,CAAA,aAAA;AACA,iBAAA,MAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AAEA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,cAAA,CAAA,CAAA,gBAAA;AACA,aAHA,EAGA,CAHA,CAAA;;AArDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"page-title\">\n            <h3>{{'Settings' | localize}}</h3>\n        </div>\n        <div class=\"settings-row\">\n            <p>{{'Interface_color' | localize}}</p>\n            <ul class=\"inter-color\">\n                <li  \n                    v-for=\"(col, index) in colors\" \n                    :key=\"index\" \n                    :style=\"{backgroundColor : col.color}\" \n                    @click=\"selectColor(col.color)\" \n                    :class=\"{active : selectedColor == col.color}\"\n                ></li>\n            </ul>\n        </div>\n        <div class=\"settings-row\">\n            <p>{{'My_bill' | localize}}</p>\n            <div class=\"input-field\">\n                <currency-input v-model=\"myBill\" currency=\"KZT\" :class=\"{invalid: $v.amount.$dirty && !$v.amount.minValue}\"/>\n                <span \n                class=\"helper-text invalid\"\n                v-if=\"$v.amount.$dirty && !$v.amount.minValue\"\n                >\n                {{'Minimum_value' | localize}} {{$v.amount.$params.minValue.min}}\n                </span>\n            </div>\n        </div>\n        <div class=\"settings-button\">\n            <button @click=\"update\" class=\"btn waves-effect waves-light\">\n                {{'Update' | localize}}\n                <i class=\"material-icons right\">send</i>\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport localizeFilter from '@/filters/localize.filter'\nimport  {required, minValue} from 'vuelidate/lib/validators'\nimport {mapGetters} from 'vuex'\nimport {mapActions} from 'vuex'\n\nexport default {\n  metaInfo() {\n      return {\n        title: this.$title('Settings')\n      }\n  },\n  name: 'settings',\n  data:() =>({\n    colors: [\n        {\n            color: '#f57f17'\n        },\n        {\n            color: '#0277bd'\n        },\n        {\n            color: '#00897b'\n        },\n        {\n            color: '#455a64'\n        },\n        {\n            color: '#f03434'\n        }\n    ],\n    selectedColor: '',\n    myBill: null\n  }),\n  validations: {\n      amount: {minValue: minValue(1)}\n  },\n  methods: {\n    ...mapActions(['updateMyBill']),\n    selectColor(color) {\n        this.selectedColor = color\n    },\n    async update() {\n        const settingsColor = {\n            selectedColor: this.selectedColor\n        }\n        await this.$store.dispatch('updateSettings', settingsColor)\n        await this.updateMyBill({\n          bill: this.myBill\n        })\n        this.$message('Настройки обновлены')\n        location.reload()\n    }\n  },\n  async created() {\n    const settings = await this.$store.dispatch('fetchSettings')\n    this.selectedColor = settings.selectedColor\n    this.myBill = this.$store.getters.info.bill\n\n    setTimeout(() => {\n        this.select = M.FormSelect.init(this.$refs.select)\n        M.updateTextFields()\n    }, 0)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-row {\n    margin-bottom: 2rem;\n    p {\n        font-size: 1.1rem;\n        margin-bottom: 0.5rem;\n    }\n    .inter-color {\n        display: flex;\n        margin-top: 0;\n        li {\n            width: 1.75rem;\n            height: 1.75rem;\n            border-radius: 50%;\n            margin-right: 0.75rem;\n            cursor: pointer;\n        }\n        .active {\n            border: 2px solid #e0e0e0;\n        }\n    }\n}\n.settings-button {\n    display: flex;\n    justify-content: flex-end;\n}\n</style>"],"sourceRoot":"src/views"}]}