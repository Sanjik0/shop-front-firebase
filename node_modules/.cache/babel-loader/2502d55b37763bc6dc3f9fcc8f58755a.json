{"remainingRequest":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js!/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/customer.js","dependencies":[{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/customer.js","mtime":1589404050016},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvc2Fuemhhci9QdWJsaWMvUHJvamVjdHMvVnVlIFByb2plY3RzL3Nob3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnOwpleHBvcnQgZGVmYXVsdCB7CiAgYWN0aW9uczogewogICAgYWRkQ3VzdG9tZXI6IGZ1bmN0aW9uIGFkZEN1c3RvbWVyKF9yZWYsIGN1c3RvbWVyKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCB1aWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gYWRkQ3VzdG9tZXIkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChkaXNwYXRjaCgnZ2V0VWlkJykpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHVpZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9jdXN0b21lcnMiKSkucHVzaChjdXN0b21lcikpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQudDApOwogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1sxLCAxMF1dKTsKICAgIH0sCiAgICBmZXRjaEN1c3RvbWVyczogZnVuY3Rpb24gZmV0Y2hDdXN0b21lcnMoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHVpZCwgY3VzdG9tZXJzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGZldGNoQ3VzdG9tZXJzJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGRpc3BhdGNoKCdnZXRVaWQnKSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgdWlkID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvY3VzdG9tZXJzIikpLm9uY2UoJ3ZhbHVlJykpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LnZhbCgpOwoKICAgICAgICAgICAgICBpZiAoX2NvbnRleHQyLnQwKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSB7fTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY3VzdG9tZXJzID0gX2NvbnRleHQyLnQwOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBPYmplY3Qua2V5cyhjdXN0b21lcnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgY3VzdG9tZXJzW2tleV0sIHsKICAgICAgICAgICAgICAgICAgaWQ6IGtleQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQyLnQxKTsKICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDIudDE7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1sxLCAxNF1dKTsKICAgIH0sCiAgICBkZWxldGVDdXN0b21lcjogZnVuY3Rpb24gZGVsZXRlQ3VzdG9tZXIoX3JlZjMsIGlkKSB7CiAgICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCB1aWQsIGN1c3RvbWVyOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGRlbGV0ZUN1c3RvbWVyJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQsIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGRpc3BhdGNoKCdnZXRVaWQnKSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgdWlkID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvY3VzdG9tZXJzIikpLmNoaWxkKGlkKS5yZW1vdmUoKSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY3VzdG9tZXIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQzLnQwKTsKICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1sxLCAxMF1dKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/customer.js"],"names":["firebase","actions","addCustomer","customer","dispatch","commit","uid","database","ref","push","fetchCustomers","once","val","customers","Object","keys","map","key","id","deleteCustomer","child","remove"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,eAAe;AACXC,EAAAA,OAAO,EAAE;AACCC,IAAAA,WADD,6BACiCC,QADjC;AAAA;AAAA;AAAA;AAAA;AAAA;AACcC,cAAAA,QADd,QACcA,QADd,EACwBC,MADxB,QACwBA,MADxB;AAAA;AAAA;AAAA,8CAGqBD,QAAQ,CAAC,QAAD,CAH7B;;AAAA;AAGSE,cAAAA,GAHT;AAAA;AAAA,8CAIgBN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,iBAAmDG,IAAnD,CAAwDN,QAAxD,CAJhB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMGE,cAAAA,MAAM,CAAC,UAAD,cAAN;AANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUCK,IAAAA,cAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAUiBL,cAAAA,MAVjB,SAUiBA,MAVjB,EAUyBD,QAVzB,SAUyBA,QAVzB;AAAA;AAAA;AAAA,8CAYqBA,QAAQ,CAAC,QAAD,CAZ7B;;AAAA;AAYSE,cAAAA,GAZT;AAAA;AAAA,8CAa4BN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,iBAAmDK,IAAnD,CAAwD,OAAxD,CAb5B;;AAAA;AAAA,4CAa8FC,GAb9F;;AAAA;AAAA;AAAA;AAAA;;AAAA,6BAauG,EAbvG;;AAAA;AAaSC,cAAAA,SAbT;AAAA,gDAcUC,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,GAAvB,CAA2B,UAAAC,GAAG;AAAA,yCAASJ,SAAS,CAACI,GAAD,CAAlB;AAAyBC,kBAAAA,EAAE,EAAED;AAA7B;AAAA,eAA9B,CAdV;;AAAA;AAAA;AAAA;AAgBGZ,cAAAA,MAAM,CAAC,UAAD,eAAN;AAhBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBCc,IAAAA,cApBD,iCAoBoCD,EApBpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBiBb,cAAAA,MApBjB,SAoBiBA,MApBjB,EAoByBD,QApBzB,SAoByBA,QApBzB;AAAA;AAAA;AAAA,8CAsBqBA,QAAQ,CAAC,QAAD,CAtB7B;;AAAA;AAsBSE,cAAAA,GAtBT;AAAA;AAAA,8CAuB0BN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,iBAAmDc,KAAnD,CAAyDF,EAAzD,EAA6DG,MAA7D,EAvB1B;;AAAA;AAuBSlB,cAAAA,QAvBT;AAAA;AAAA;;AAAA;AAAA;AAAA;AAyBGE,cAAAA,MAAM,CAAC,UAAD,eAAN;AAzBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADE,CAAf","sourcesContent":["import firebase from 'firebase/app'\n\nexport default {\n    actions: {\n        async addCustomer({dispatch, commit}, customer) {\n            try {\n                const uid = await dispatch('getUid')\n                return await firebase.database().ref(`/users/${uid}/customers`).push(customer)\n            } catch (e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n        async fetchCustomers({commit, dispatch}) {\n            try {\n                const uid = await dispatch('getUid')\n                const customers = (await firebase.database().ref(`/users/${uid}/customers`).once('value')).val() || {} \n                return Object.keys(customers).map(key => ({...customers[key], id: key}))\n            } catch(e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n        async deleteCustomer({commit, dispatch}, id) {\n            try {\n                const uid = await dispatch('getUid')\n                const customer = await firebase.database().ref(`/users/${uid}/customers`).child(id).remove()\n            } catch(e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n    }\n}\n"]}]}