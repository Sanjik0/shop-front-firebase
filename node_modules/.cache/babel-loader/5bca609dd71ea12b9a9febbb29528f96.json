{"remainingRequest":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js!/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/settings.js","dependencies":[{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/settings.js","mtime":1589404050016},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sanzhar/Public/Projects/Vue Projects/shop/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBhY3Rpb25zOiB7CiAgICB1cGRhdGVTZXR0aW5nczogZnVuY3Rpb24gdXBkYXRlU2V0dGluZ3MoX3JlZiwgX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHNlbGVjdGVkQ29sb3IsIHVpZCwgc2V0dGluZ3M7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gdXBkYXRlU2V0dGluZ3MkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgc2VsZWN0ZWRDb2xvciA9IF9yZWYyLnNlbGVjdGVkQ29sb3I7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChkaXNwYXRjaCgnZ2V0VWlkJykpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHVpZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9zZXR0aW5ncyIpKS51cGRhdGUoewogICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2xvcjogc2VsZWN0ZWRDb2xvcgogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBzZXR0aW5ncyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQudDApOwogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgbnVsbCwgW1syLCAxMV1dKTsKICAgIH0sCiAgICBmZXRjaFNldHRpbmdzOiBmdW5jdGlvbiBmZXRjaFNldHRpbmdzKF9yZWYzKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCB1aWQsIHNldHRpbmdzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGZldGNoU2V0dGluZ3MkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZGlzcGF0Y2goJ2dldFVpZCcpKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICB1aWQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9zZXR0aW5ncyIpKS5vbmNlKCd2YWx1ZScpKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC52YWwoKTsKCiAgICAgICAgICAgICAgaWYgKF9jb250ZXh0Mi50MCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0ge307CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHNldHRpbmdzID0gX2NvbnRleHQyLnQwOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBzZXR0aW5ncyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCBfY29udGV4dDIudDEpOwogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCBudWxsLCBbWzEsIDE0XV0pOwogICAgfSwKICAgIHVwZGF0ZU15QmlsbDogZnVuY3Rpb24gdXBkYXRlTXlCaWxsKF9yZWY0LCBfcmVmNSkgewogICAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgYmlsbCwgdWlkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwZGF0ZU15QmlsbCQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY0LmRpc3BhdGNoOwogICAgICAgICAgICAgIGJpbGwgPSBfcmVmNS5iaWxsOwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChkaXNwYXRjaCgnZ2V0VWlkJykpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHVpZCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIvdXNlcnMvIi5jb25jYXQodWlkLCAiL2luZm8iKSkudXBkYXRlKHsKICAgICAgICAgICAgICAgIGJpbGw6IGJpbGwKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsIF9jb250ZXh0My50MCk7CiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIG51bGwsIFtbMiwgMTBdXSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/sanzhar/Public/Projects/Vue Projects/shop/src/store/settings.js"],"names":["firebase","actions","updateSettings","commit","dispatch","selectedColor","uid","database","ref","update","settings","fetchSettings","once","val","updateMyBill","bill"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AAEA,eAAe;AACXC,EAAAA,OAAO,EAAE;AACCC,IAAAA,cADD;AAAA;AAAA;AAAA;AAAA;AAAA;AACiBC,cAAAA,MADjB,QACiBA,MADjB,EACyBC,QADzB,QACyBA,QADzB;AACqCC,cAAAA,aADrC,SACqCA,aADrC;AAAA;AAAA;AAAA,8CAGqBD,QAAQ,CAAC,QAAD,CAH7B;;AAAA;AAGSE,cAAAA,GAHT;AAAA;AAAA,8CAI0BN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,gBAAkDG,MAAlD,CAAyD;AAACJ,gBAAAA,aAAa,EAAbA;AAAD,eAAzD,CAJ1B;;AAAA;AAISK,cAAAA,QAJT;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMGP,cAAAA,MAAM,CAAC,UAAD,cAAN;AANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUCQ,IAAAA,aAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAUgBP,cAAAA,QAVhB,SAUgBA,QAVhB,EAU0BD,MAV1B,SAU0BA,MAV1B;AAAA;AAAA;AAAA,8CAYqBC,QAAQ,CAAC,QAAD,CAZ7B;;AAAA;AAYSE,cAAAA,GAZT;AAAA;AAAA,8CAa2BN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,gBAAkDM,IAAlD,CAAuD,OAAvD,CAb3B;;AAAA;AAAA,4CAa4FC,GAb5F;;AAAA;AAAA;AAAA;AAAA;;AAAA,6BAaqG,EAbrG;;AAAA;AAaSH,cAAAA,QAbT;AAAA,gDAcUA,QAdV;;AAAA;AAAA;AAAA;AAgBGP,cAAAA,MAAM,CAAC,UAAD,eAAN;AAhBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBCW,IAAAA,YApBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBeX,cAAAA,MApBf,SAoBeA,MApBf,EAoBuBC,QApBvB,SAoBuBA,QApBvB;AAoBmCW,cAAAA,IApBnC,SAoBmCA,IApBnC;AAAA;AAAA;AAAA,8CAsBqBX,QAAQ,CAAC,QAAD,CAtB7B;;AAAA;AAsBSE,cAAAA,GAtBT;AAAA;AAAA,8CAuBSN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,YAA8CG,MAA9C,CAAqD;AAACM,gBAAAA,IAAI,EAAJA;AAAD,eAArD,CAvBT;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAyBGZ,cAAAA,MAAM,CAAC,UAAD,eAAN;AAzBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADE,CAAf","sourcesContent":["import firebase from 'firebase/app'\n\nexport default {\n    actions: {\n        async updateSettings({commit, dispatch}, {selectedColor}) {\n            try {\n                const uid = await dispatch('getUid')\n                const settings = await firebase.database().ref(`/users/${uid}/settings`).update({selectedColor})\n            } catch(e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n        async fetchSettings({dispatch, commit}){\n            try {\n                const uid = await dispatch('getUid')\n                const settings = (await firebase.database().ref(`/users/${uid}/settings`).once('value')).val() || {} \n                return settings\n            } catch (e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n        async updateMyBill({commit, dispatch}, {bill}){\n            try {\n                const uid = await dispatch('getUid')\n                await firebase.database().ref(`/users/${uid}/info`).update({bill})\n            } catch(e) {\n                commit('setError', e)\n                throw e\n            }\n        },\n    }\n}"]}]}